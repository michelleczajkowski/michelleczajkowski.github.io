<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test: Results</title>
    <style>
        /* Add styles for the entire body for better presentation */
        body {
            font-family: 'Open Sans', Arial, sans-serif;
            margin: 20px;
            font-size: 18px;
        }



        #nextButton {
            display: none; /* Initially hide the Next button */
        }

        #sentence {
            background-color: lightgoldenrodyellow; /* Set a light grey background color */
            padding: 10px; /* Add some padding to create space around the text */
            border: 1px solid lightgoldenrodyellow; /* Add a 1px solid grey border */
        }



    </style>
</head>
<body>
    Results<br>
    Error-free academic writing is important. Technology is an important tool in achieving error-free writing. But these tools make mistakes too! They miss things, and sometimes give poor advice. <br>
    Below are the skills needed to collaborate well with technology and writing tools. Where are your weaker areas? 

    
    <script>
        // Function to parse query parameters from the URL
        function getQueryParam(parameterName) {
            const urlSearchParams = new URLSearchParams(window.location.search);
            return urlSearchParams.get(parameterName);
        }

        // Retrieve the updated coda value from the URL
        const updatedCodaQueryParam = getQueryParam('coda');

        // Log the value of coda to the console
        console.log('coda:', updatedCodaQueryParam);

        // Split the coda string by commas
        const codaParts = updatedCodaQueryParam.split(',');

        // Separate into coda1, coda2, and coda3
        const coda1 = codaParts[0];
        const coda2 = codaParts[1];
        const coda3 = codaParts[2];

        // Log the values of coda1, coda2, and coda3 to the console
        console.log('coda1:', coda1);
        console.log('coda2:', coda2);
        console.log('coda3:', coda3);

        // Convert each codaX string into an array of numbers
        const codaArray1 = coda1.split('-').map(Number);
        const codaArray2 = coda2.split('-').map(Number);
        const codaArray3 = coda3.split('-').map(Number);

        // Log the arrays to the console
        console.log('codaArray1:', codaArray1);
        console.log('codaArray2:', codaArray2);
        console.log('codaArray3:', codaArray3);


// Function to calculate percentage score for a given group
function calculatePercentageScore(array, elements) {
    const score = elements.reduce((sum, index) => {
        const value = array[index - 1]; // Subtract 1 to adjust for 0-based indexing
        return sum + ((isNaN(value) || value === 0) ? 0 : value);
    }, 0);

    return (score / elements.length) * 100;
}

// Define elements for each group
const scoreElements1 = [1, 2, 4, 5, 7, 8];
const scoreElements2 = [3, 9];
const scoreElements3 = [6, 10];

// Calculate and log percentage scores for each group with custom names
const score_1_option = calculatePercentageScore(codaArray1, scoreElements1);
const score_1_custom = calculatePercentageScore(codaArray1, scoreElements2);
const score_1_keep = calculatePercentageScore(codaArray1, scoreElements3);

console.log('Score for codaArray1 (Group 1) (%):', score_1_option);
console.log('Score for codaArray1 (Group 2) (%):', score_1_custom);
console.log('Score for codaArray1 (Group 3) (%):', score_1_keep);






        















    </script>
</body>
</html>
