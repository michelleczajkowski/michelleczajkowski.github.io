<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test: Part 2</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            font-size: 18px;
        }
        .highlightable {
            cursor: pointer;
        }
        .highlighted {
            background-color: rgb(207, 207, 152);
            font-weight: bold;
        }
        #text-container {
            background-color: lightgoldenrodyellow; /* Set a light grey background color */
            padding: 10px; /* Add some padding to create space around the text */
            border: 1px solid lightgoldenrodyellow; /* Add a 1px solid grey border */
        }
    </style>
</head>
<body>
    <h1>Revision Test</h1>
    <p>Now, you'll need to find any errors that the spelling and grammar checker missed. Click any words you think are wrong (spelling and grammar) in this extract.
    </p>
    <div id="text-container">
    ....
    <span class="highlightable">The</span> <span class="highlightable">study</span> <span class="highlightable">asked</span> <span class="highlightable">participants</span> <span class="highlightable">from</span> <span class="highlightable">fifteen</span> <span class="highlightable">neighbourhoods</span> <span class="highlightable">in</span> <span class="highlightable">three</span> <span class="highlightable">cities</span> <span class="highlightable">responded</span> <span class="highlightable">to</span> <span class="highlightable">an</span> <span class="highlightable">online</span> <span class="highlightable">questionnaire</span>. <span class="highlightable">In</span> <span class="highlightable">total</span>, <span class="highlightable">over</span> <span class="highlightable">500</span> <span class="highlightable">questionnaires</span> <span class="highlightable">were</span> <span class="highlightable">completed</span>. <span class="highlightable">Participants</span> <span class="highlightable">were</span> <span class="highlightable">asked</span> <span class="highlightable">about</span> <span class="highlightable">how</span> <span class="highlightable">they</span> <span class="highlightable">insulate</span> <span class="highlightable">their</span> <span class="highlightable">homes</span> <span class="highlightable">and</span> <span class="highlightable">how</span> <span class="highlightable">much</span> <span class="highlightable">they</span> <span class="highlightable">save</span> <span class="highlightable">in</span> <span class="highlightable">terms</span> <span class="highlightable">of</span> <span class="highlightable">gas</span>, <span class="highlightable">hot</span> <span class="highlightable">water</span>, <span class="highlightable">and</span> <span class="highlightable">money</span>. <span class="highlightable">Additionally</span>, <span class="highlightable">they</span> <span class="highlightable">were</span> <span class="highlightable">asked</span> <span class="highlightable">to</span> <span class="highlightable">describe</span> <span class="highlightable">their</span> <span class="highlightable">neighbourhood</span> <span class="highlightable">and</span> <span class="highlightable">what</span> <span class="highlightable">they</span> <span class="highlightable">like</span> <span class="highlightable">about</span> <span class="highlightable">living</span> <span class="highlightable">there</span>. <span class="highlightable">They</span> <span class="highlightable">were</span> <span class="highlightable">asked</span> <span class="highlightable">to</span> <span class="highlightable">indicate</span> <span class="highlightable">the</span> <span class="highlightable">degree</span> <span class="highlightable">to</span> <span class="highlightable">which</span> <span class="highlightable">they</span> <span class="highlightable">agreed</span> <span class="highlightable">with</span> <span class="highlightable">a</span> <span class="highlightable">number</span> <span class="highlightable">of</span> <span class="highlightable">different</span> <span class="highlightable">statements</span>, e.g., "<span class="highlightable">I</span> <span class="highlightable">would</span> <span class="highlightable">like</span> <span class="highlightable">to</span> <span class="highlightable">know</span> <span class="highlightable">my</span> <span class="highlightable">neighbours</span> <span class="highlightable">more</span>."
<br><br>
    <span class="highlightable">The</span> <span class="highlightable">results</span> <span class="highlightable">of</span> <span class="highlightable">the</span> <span class="highlightable">study</span> <span class="highlightable">show</span> <span class="highlightable">residents</span> <span class="highlightable">took</span> <span class="highlightable">more</span> <span class="highlightable">actions</span> <span class="highlightable">to</span> <span class="highlightable">insulate</span> <span class="highlightable">their</span> <span class="highlightable">homes</span> <span class="highlightable">then</span> <span class="highlightable">predicted</span>, <span class="highlightable">an</span> <span class="highlightable">expected</span> <span class="highlightable">effect</span> <span class="highlightable">of</span> <span class="highlightable">last</span> <span class="highlightable">years</span> <span class="highlightable">high</span> <span class="highlightable">gas</span> <span class="highlightable">prices</span>. <span class="highlightable">The</span> <span class="highlightable">results</span> <span class="highlightable">also</span> <span class="highlightable">indicate</span> <span class="highlightable">that</span> <span class="highlightable">insulating</span> <span class="highlightable">one's</span> <span class="highlightable">home</span> <span class="highlightable">was</span> <span class="highlightable">associated</span> <span class="highlightable">with</span> <span class="highlightable">more</span> <span class="highlightable">positive</span> <span class="highlightable">feelings</span> <span class="highlightable">about</span> <span class="highlightable">one's</span> <span class="highlightable">residential</span> <span class="highlightable">area</span>. 
<br><br>
    <span class="highlightable">It</span> <span class="highlightable">is</span> <span class="highlightable">important</span> <span class="highlightable">to</span> <span class="highlightable">note</span> <span class="highlightable">that</span> <span class="highlightable">this</span> <span class="highlightable">effect</span> <span class="highlightable">was</span> <span class="highlightable">greater</span> <span class="highlightable">if</span> <span class="highlightable">a</span> <span class="highlightable">person</span> <span class="highlightable">owned</span> <span class="highlightable">their</span> <span class="highlightable">own</span> <span class="highlightable">apartment</span>. <span class="highlightable">Previous</span> <span class="highlightable">study's</span> <span class="highlightable">show</span> <span class="highlightable">that</span> <span class="highlightable">homeowners</span> <span class="highlightable">are</span> <span class="highlightable">both</span> <span class="highlightable">more</span> <span class="highlightable">likely</span> <span class="highlightable">to</span> <span class="highlightable">proactive</span> <span class="highlightable">insulate</span> <span class="highlightable">their</span> <span class="highlightable">homes</span> <span class="highlightable">then</span> <span class="highlightable">renters,</span> <span class="highlightable">who</span> <span class="highlightable">view</span> <span class="highlightable">that</span> <span class="highlightable">as</span> <span class="highlightable">the</span> <span class="highlightable">owner's</span> <span class="highlightable">responsibility,</span> <span class="highlightable">and</span> <span class="highlightable">to feel</span> <span class="highlightable">a</span> <span class="highlightable">sense</span> <span class="highlightable">of</span> <span class="highlightable">belonging</span> <span class="highlightable">in</span> <span class="highlightable">a</span> <span class="highlightable">neighbourhood</span>. <span class="highlightable">However</span>, <span class="highlightable">the</span> <span class="highlightable">results</span> <span class="highlightable">of</span> <span class="highlightable">this</span> <span class="highlightable">study</span> <span class="highlightable">show</span> <span class="highlightable">a</span> <span class="highlightable">relationship</span> <span class="highlightable">between</span> <span class="highlightable">insulation</span> <span class="highlightable">efforts</span> <span class="highlightable">and</span> <span class="highlightable">this</span> <span class="highlightable">feeling</span>. <span class="highlightable">In</span> <span class="highlightable">other</span> <span class="highlightable">words</span>, <span class="highlightable">residents</span> <span class="highlightable">who</span> <span class="highlightable">owned</span> <span class="highlightable">their</span> <span class="highlightable">apartment</span> <span class="highlightable">but</span> <span class="highlightable">took</span> <span class="highlightable">few</span> <span class="highlightable">or</span> <span class="highlightable">no</span> <span class="highlightable">steps</span> <span class="highlightable">to</span> <span class="highlightable">insulate</span> <span class="highlightable">their</span> <span class="highlightable">homes</span> <span class="highlightable">had</span> <span class="highlightable">lower</span> <span class="highlightable">measures</span> <span class="highlightable">of</span> <span class="highlightable">neighbourhood</span> <span class="highlightable">belonging</span>.  
<br><br>
    <span class="highlightable">The</span> <span class="highlightable">researchers</span> <span class="highlightable">believe</span> <span class="highlightable">that</span> <span class="highlightable">such</span> <span class="highlightable">home</span> <span class="highlightable">improvement</span> <span class="highlightable">efforts</span> <span class="highlightable">provide</span> <span class="highlightable">a</span> <span class="highlightable">feeling</span> <span class="highlightable">of</span> <span class="highlightable">being</span> <span class="highlightable">in</span> <span class="highlightable">control</span> <span class="highlightable">over</span> <span class="highlightable">one's</span> <span class="highlightable">environment</span>, <span class="highlightable">weather</span> <span class="highlightable">financial</span>, <span class="highlightable">social</span> <span class="highlightable">or</span> <span class="highlightable">physical</span>. <span class="highlightable">This</span> <span class="highlightable">conclusion</span> <span class="highlightable">has</span> <span class="highlightable">implications</span> <span class="highlightable">for</span> <span class="highlightable">improving</span> <span class="highlightable">other</span> <span class="highlightable">aspects</span> <span class="highlightable">of</span> <span class="highlightable">a</span> <span class="highlightable">neighbourhood</span> <span class="highlightable">as</span> <span class="highlightable">well</span>. <span class="highlightable">Previous</span> <span class="highlightable">research</span> <span class="highlightable">shows</span>, <span class="highlightable">unsurprisingly</span>, <span class="highlightable">that</span> <span class="highlightable">its</span> <span class="highlightable">people</span> <span class="highlightable">who</span> <span class="highlightable">feel</span> <span class="highlightable">most</span> <span class="highlightable">part</span> <span class="highlightable">of</span> <span class="highlightable">a</span> <span class="highlightable">neighbourhood</span> <span class="highlightable">who</span> <span class="highlightable">take</span> <span class="highlightable">the</span> <span class="highlightable">initiative</span> <span class="highlightable">to</span> <span class="highlightable">pick</span> <span class="highlightable">up</span> <span class="highlightable">litter</span>, <span class="highlightable">plant</span> <span class="highlightable">flowers</span>, <span class="highlightable">and</span> <span class="highlightable">push</span> <span class="highlightable">the</span> <span class="highlightable">local</span> <span class="highlightable">government</span> <span class="highlightable">to</span> <span class="highlightable">make</span> <span class="highlightable">repairs</span> <span class="highlightable">to</span> <span class="highlightable">the</span> <span class="highlightable">road</span> <span class="highlightable">and</span> <span class="highlightable">pavement</span>. 
<br><br>
    <span class="highlightable">The</span> <span class="highlightable">government</span> <span class="highlightable">already</span> <span class="highlightable">provides</span> <span class="highlightable">financial</span> <span class="highlightable">incentives</span> <span class="highlightable">for</span> <span class="highlightable">residents</span> <span class="highlightable">to</span> <span class="highlightable">take</span> <span class="highlightable">environmentally</span> <span class="highlightable">friendly</span> <span class="highlightable">actions</span>, <span class="highlightable">for</span> <span class="highlightable">example</span> <span class="highlightable">reducing</span> <span class="highlightable">use</span> <span class="highlightable">of</span> <span class="highlightable">cars</span>. <span class="highlightable">The</span> <span class="highlightable">same</span> <span class="highlightable">could</span> <span class="highlightable">be</span> <span class="highlightable">done</span> <span class="highlightable">for</span> <span class="highlightable">the</span> <span class="highlightable">insulating</span> <span class="highlightable">of</span> <span class="highlightable">homes</span>. <span class="highlightable">If</span> <span class="highlightable">the</span> <span class="highlightable">government</span> <span class="highlightable">would reduce</span> <span class="highlightable">the</span> <span class="highlightable">cost</span> <span class="highlightable">of</span> <span class="highlightable">insulating</span> <span class="highlightable">measures</span>, <span class="highlightable">it</span> <span class="highlightable">could</span> <span class="highlightable">benefit</span> <span class="highlightable">people</span> <span class="highlightable">in</span> <span class="highlightable">a</span> <span class="highlightable">number</span> <span class="highlightable">of</span> <span class="highlightable">different</span> <span class="highlightable">ways</span>.




    </div>
    <br>
    <button id="save-button">Click when done</button>
    <div id="answer-container" style="display: none;">
        <p id="correct-answer"></p>
        <button id="next-button">Next</button>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const incorrectWords = ["responded", "years", "study's", "proactive", "then", "weather", "would reduce"];
            const highlightableWords = document.querySelectorAll(".highlightable");
            const saveButton = document.getElementById("save-button");
            const answerContainer = document.getElementById("answer-container");
            const correctAnswer = document.getElementById("correct-answer");
            const nextButton = document.getElementById("next-button");
            let selectedWordIndices = []; // Store word indices instead of words

            // Function to toggle word highlighting and store its index
            function toggleHighlight(word, index) {
                word.classList.toggle("highlighted");
                if (word.classList.contains("highlighted")) {
                    selectedWordIndices.push(index);
                } else {
                    selectedWordIndices = selectedWordIndices.filter(selectedIndex => selectedIndex !== index);
                }
            }

            // Add click event listeners to each highlightable word
            highlightableWords.forEach((word, index) => {
                word.addEventListener("click", () => {
                    toggleHighlight(word, index);
                });
            });

            // Add click event listener to save button
            saveButton.addEventListener("click", () => {
                truePositives = 0;
                falsePositives = 0;

                // Iterate through the highlighted words
                highlightableWords.forEach((word, index) => {
                    if (word.classList.contains("highlighted")) {
                        const wordText = word.textContent.trim().toLowerCase();
                        if (incorrectWords.includes(wordText)) {
                            // User highlighted an incorrect word
                            truePositives++;
                        } else {
                            // User incorrectly highlighted a word that should not be highlighted
                            falsePositives++;
                        }
                    }
                });

                // Calculate and display scores
                //const totalScore = truePositives - falsePositives;
                //correctAnswer.innerHTML = `True Positives: ${truePositives}<br>False Positives: ${falsePositives}<br>Total Score: ${totalScore}`;

                // Show the answer container
                answerContainer.style.display = "block";
            });

            // Add click event listener to next button
            nextButton.addEventListener("click", () => {
                // Calculate the updated coda value by adding truePositives and falsePositives
                const updatedCoda = `${codaQueryParam},${truePositives},${falsePositives}`;

                // Redirect the user to the new URL with the updated coda parameter
                window.location.href = `RTT_NED_2.html?coda=${updatedCoda}`;
            });

        });
    // Function to parse query parameters from the URL
    function getQueryParam(parameterName) {
        const urlSearchParams = new URLSearchParams(window.location.search);
        return urlSearchParams.get(parameterName);
    }

    // Retrieve the coda value from the URL
    const codaQueryParam = getQueryParam("coda");

    // You can now use the codaQueryParam as needed on this page
    console.log(`Received coda from previous page: ${codaQueryParam}`);

    </script>
</body>
</html>
